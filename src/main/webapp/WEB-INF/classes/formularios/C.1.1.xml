<?xml version="1.0"?>
<h:html xmlns="http://www.w3.org/2002/xforms" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:h="http://www.w3.org/1999/xhtml" xmlns:jr="http://openrosa.org/javarosa" xmlns:orx="http://openrosa.org/xforms/" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <h:head>
    <h:title>Formulario C1.1 - Áreas de prestación se servicios</h:title>
    <model>
      <instance>
        <C.1.1 id="C1.1">
          <areas>
            <provincia/>
            <partido/>
            <localidad/>
            <area/>
          </areas>
          <meta>
            <instanceID/>
          </meta>
        </C.1.1>
      </instance>
      <instance id="localidades">
        <root>
          <item>
            <itextId>static_instance-localidades-0</itextId>
            <name>id_localidad</name>
            <location_url>//services/localidades</location_url>
          </item>
        </root>
      </instance>
      <instance id="partidos">
        <root>
          <item>
            <itextId>static_instance-partidos-0</itextId>
            <name>id_dpto_partido</name>
            <location_url>//services/partidos</location_url>
          </item>
        </root>
      </instance>
      <instance id="provincias">
        <root>
          <item>
            <itextId>static_instance-provincias-0</itextId>
            <name>id_provincia</name>
            <location_url>//services/provincias</location_url>
          </item>
        </root>
      </instance>
      <instance id="areas">
        <root>
          <item>
            <itextId>static_instance-areas-0</itextId>
            <name>id_area_local</name>
            <location_url>//services/areas</location_url>
          </item>
        </root>
      </instance>
      <bind jr:constraintMsg="true()" nodeset="/C.1.1/areas/provincia" required="true()" type="select1"/>
      <bind jr:constraintMsg="true()" nodeset="/C.1.1/areas/partido" required="true()" type="select1"/>
      <bind jr:constraintMsg="true()" nodeset="/C.1.1/areas/localidad" required="true()" type="select1"/>
      <bind jr:constraintMsg="true()" nodeset="/C.1.1/areas/area" required="true()" type="select1"/>
      <bind calculate="concat('uuid:', uuid())" nodeset="/C.1.1/meta/instanceID" readonly="true()" type="string"/>
    </model>
  </h:head>
  <h:body>
    <group appearance="col4" ref="/C.1.1/areas">
      <label>Áreas de prestación</label>
      <select1 appearance="minimal" ref="/C.1.1/areas/provincia">
        <label>Provincia</label>
        <item>
          <label></label>
          <value>id_provincia</value>
        </item>
      </select1>
      <select1 appearance="minimal" ref="/C.1.1/areas/partido">
        <label>Partido/Dpto</label>
        <itemset nodeset="instance('partidos')/root/item[provincia= /C.1.1/areas/provincia ]">
          <value ref="name"/>
          <label ref="jr:itext(itextId)"/>
        </itemset>
      </select1>
      <select1 appearance="minimal" ref="/C.1.1/areas/localidad">
        <label>Localidad</label>
        <itemset nodeset="instance('localidades')/root/item[provincia= /C.1.1/areas/provincia  and partido= /C.1.1/areas/partido ]">
          <value ref="name"/>
          <label ref="jr:itext(itextId)"/>
        </itemset>
      </select1>
      <select1 appearance="minimal" ref="/C.1.1/areas/area">
        <label>Area Local</label>
        <itemset nodeset="instance('areas')/root/item[provincia= /C.1.1/areas/provincia  and localidad= /C.1.1/areas/localidad ]">
          <value ref="name"/>
          <label ref="jr:itext(itextId)"/>
        </itemset>
      </select1>
    </group>
  </h:body>
</h:html>
